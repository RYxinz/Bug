<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>WA Report Tool</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body,html{margin:0;height:100%;color:#fff}

/* VIDEO BACKGROUND */
video.bg{
  position:fixed;
  top:0;left:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:-2;
}
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  z-index:-1;
}

/* CARD */
.card{
  max-width:420px;
  margin:8vh auto;
  background:rgba(0,0,0,.7);
  border:1px solid #ff004c;
  box-shadow:0 0 25px #ff004c;
  border-radius:10px;
  padding:20px;
}
h2{text-align:center;color:#ff004c}

/* INPUT */
input,button{
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:6px;
  border:none;
}
input{background:#111;color:#fff;border:1px solid #333}
button{
  background:#ff004c;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
button.alt{background:#222}
button:hover{opacity:.85}

.hide{display:none}
hr{border:0;border-top:1px solid #333;margin:15px 0}
.small{font-size:12px;opacity:.7;text-align:center}
.log{font-size:12px;background:#000;padding:8px;height:80px;overflow:auto}
</style>
</head>

<body>

<!-- VIDEO -->
<video class="bg" autoplay muted loop>
  <source src="video.mp4" type="video/mp4">
</video>
<div class="overlay"></div>

<!-- LOGIN -->
<div class="card" id="loginBox">
  <h2>WA REPORT TOOL</h2>
  <input id="lu" placeholder="Username">
  <input id="lp" type="password" placeholder="Password">
  <button onclick="login()">LOGIN</button>
  <button class="alt" onclick="register()">REGISTER</button>
  <div class="small">USER / PREMIUM / OWNER</div>
</div>

<!-- DASHBOARD -->
<div class="card hide" id="dash">
  <h2 id="roleTitle"></h2>

  <button onclick="ban()">BAN</button>
  <button onclick="unban()">UNBAN</button>
  <button onclick="bug()">BUG (Premium)</button>

  <div id="ownerPanel" class="hide">
    <hr>
    <h3>OWNER PANEL</h3>
    <input id="pu" placeholder="Username target">
    <input id="pd" type="number" placeholder="Expired (hari)">
    <button onclick="makePremium()">SET PREMIUM</button>
  </div>

  <hr>
  <button class="alt" onclick="logout()">LOGOUT</button>
  <div class="log" id="log"></div>
</div>

<script>
// ===== DATA =====
const BUG_TEXT = `BRAMA BUG SYSTEM
REQUEST CHECK ACCOUNT
PLEASE REVIEW IMMEDIATELY`;

let users = JSON.parse(localStorage.getItem('users')) || {
  owner:{pass:'owner123',role:'OWNER',exp:'2053-05-28'}
};
let loginUser = null;

function save(){localStorage.setItem('users',JSON.stringify(users))}
function log(t){logBox.innerHTML+=t+"<br>";logBox.scrollTop=9999}

// ===== AUTH =====
function login(){
  let u=lu.value,p=lp.value;
  if(!users[u]||users[u].pass!==p) return alert('Login gagal');
  let d=users[u];
  if(new Date(d.exp)<new Date()) d.role='USER';
  loginUser=u;
  showDash();
}
function register(){
  let u=lu.value,p=lp.value;
  if(!u||!p) return alert('Isi data');
  if(users[u]) return alert('User ada');
  users[u]={pass:p,role:'USER',exp:'2000-01-01'};
  save(); alert('Register OK');
}
function logout(){location.reload()}

// ===== DASH =====
function showDash(){
  loginBox.classList.add('hide');
  dash.classList.remove('hide');
  let d=users[loginUser];
  roleTitle.innerText=`${loginUser} (${d.role})`;
  if(d.role==='OWNER') ownerPanel.classList.remove('hide');
  log('Login sukses');
}

// ===== ACTIONS =====
function ban(){
  let n=prompt('Nomor target (62xxx)');
  if(!n) return;
  window.open(`mailto:support@support.whatsapp.com?subject=Ban ${n}&body=Please ban number ${n}`);
  log('BAN email dibuka');
}
function unban(){
  let n=prompt('Nomor target (62xxx)');
  if(!n) return;
  window.open(`mailto:support@support.whatsapp.com?subject=Unban ${n}&body=Please unban number ${n}`);
  log('UNBAN email dibuka');
}
function bug(){
  let d=users[loginUser];
  if(!(d.role==='PREMIUM'||d.role==='OWNER'))
    return alert('BUG hanya PREMIUM');
  let n=prompt('Nomor target (62xxx)');
  if(!n) return;
  window.open(`https://wa.me/${n}?text=${encodeURIComponent(BUG_TEXT)}`);
  log('BUG dikirim ke WA');
}

// ===== OWNER =====
function makePremium(){
  let u=pu.value,days=parseInt(pd.value);
  if(!users[u]) return alert('User tidak ada');
  let e=new Date();e.setDate(e.getDate()+days);
  users[u].role='PREMIUM';
  users[u].exp=e.toISOString().split('T')[0];
  save();
  alert('Premium aktif');
}
</script>

</body>
</html>
